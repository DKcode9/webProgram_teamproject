<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>게임</title>
    <link rel="stylesheet" href="game.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="game.js"></script>
  </head>
  <body>
    <div class="container">
        <!------------ 메인 화면 ------------>
        <div class="screen active" id="main-screen">
            <h1 class="title">게임</h1>
            <button class="btn" onclick="playButtonSound(); startGameWithBgm()">게임 시작</button>
            <button class="btn secondary" onclick="playButtonSound(); startSettingsWithBgm()">환경설정</button>
        </div>

      <!------------ 난이도 선택 화면 ------------>
      <div class="screen" id="difficulty-screen">
        <button class="back-btn" onclick="showMainScreen()">← 뒤로</button>
        <h2 class="subtitle">난이도 선택</h2>
        <div class="difficulty-container">
          <button class="btn difficulty" onclick="playButtonSound(); showStageScreen('easy')">
            Easy
          </button>
          <button class="btn difficulty" onclick="playButtonSound(); showStageScreen('normal')">
            Normal
          </button>
          <button class="btn difficulty" onclick="playButtonSound(); showStageScreen('hard')">
            Hard
          </button>
        </div>
      </div>

      <div class="screen" id="story-screen">
        <button class="back-btn" onclick="showDifficultyScreen()">
          ← 뒤로
        </button>
        <h2 class="subtitle">아르바이트 첫 출근</h2>
        <p>
          방학 동안 등록금을 벌기 위해 집 근처 과일 주스 가게에 아르바이트로
          들어간 건국이.<br />
          특별히 잘하는 것도 없고 서비스 일도 처음이라 서툴지만, 지각하지 않고
          맡은 일은 책임감 있게 해내려 노력한다.<br />
          손님에게 밝게 인사하고, 재료를 정리하며 서서히 일에 익숙해진다.<br />
          과일을 깨서 주스를 만들어 보세요!
        </p>
        <button class="btn" onclick="showRuleScreen()">다음</button>
      </div>

      <div class="screen" id="rule-screen">
        <button class="back-btn" onclick="showStoryScreen()">← 뒤로</button>
        <h2 class="subtitle">게임 규칙</h2>
        <p>게임 규칙 설명</p>
        <button class="btn" onclick="proceedToStageScreen()">다음</button>
      </div>

      <!------------ 스테이지 선택 화면 ------------>
      <div class="screen" id="stage-screen">
        <button class="back-btn" onclick="showRuleScreen()">← 뒤로</button>
        <h2 class="subtitle">스테이지 선택</h2>
        <div class="stage-container">
          <div class="stage-option">
            <button
              class="btn stage stage1"
              onclick="startGame('stage1')"
            ></button>
            <div class="stage-label">Stage 1</div>
            <div class="stage-desc">
              서툴지만 열심히!<br />
              건국이의 첫 알바 출근
            </div>
          </div>

          <div class="stage-option">
            <button
              class="btn stage stage2"
              onclick="startGame('stage2')"
            ></button>
            <div class="stage-label">Stage 2</div>
            <div class="stage-desc">
              매니저로 레벨업!<br />
              가게는 이제 내 손에
            </div>
          </div>

          <div class="stage-option">
            <button
              class="btn stage stage3"
              onclick="startGame('stage3')"
            ></button>
            <div class="stage-label">Stage 3</div>
            <div class="stage-desc">
              점장 건국이 등장!<br />
              나만의 주스로 승부한다
            </div>
          </div>
        </div>
      </div>

      <!------------ Stage Story Screens ------------>
      <div class="screen" id="stage1-story-screen">
        <h2 class="subtitle">매니저 제안</h2>
        <p>
          몇 달간 성실히 일한 덕에 사장님에게 신뢰를 얻게 된다.<br />
          다른 알바생이 자주 바뀌는 가운데, 꾸준히 일하고 있는 건국이에게
          사장님이 말한다.<br />
          "이번에 매니저 자리 하나 비는데, 너 해볼래?"<br />
          알바생 스케줄 관리, 재고 확인, 간단한 발주까지 맡게 된 건국이.<br />
          알바 이상의 책임감이 생기면서 일에 대한 태도도 달라진다.
        </p>
        <button class="btn" onclick="proceedToGame()">다음</button>
      </div>

      <div class="screen" id="stage2-story-screen">
        <h2 class="subtitle">점장 운영</h2>
        <p>
          실적을 잘 쌓아오던 건국이는 사장님의 건강 문제로 가게를 물려받게
          된다.<br />
          주문 처리, 직원 조율, 클레임 대응 등 처음엔 어려웠지만,<br />
          차근차근 정리하며 ‘운영’이라는 것을 조금씩 배워간다.<br />
          그리고 본인만의 특별한 주스 레시피를 개발하여 많은 손님들이 찾아오게
          된다.
        </p>
        <button class="btn" onclick="proceedToGame()">다음</button>
      </div>

      <div class="screen" id="stage3-story-screen">
        <h2 class="subtitle">대한민국 1등 주스 브랜드 런칭</h2>
        <p>
          가게를 맡은 이후 끊임없는 노력과 혁신으로 입소문을 타기 시작한
          건국이의 주스 가게.<br />
          직접 개발한 레시피는 SNS를 통해 화제가 되고, 점점 전국적으로 브랜드
          인지도를 쌓아간다.<br />
          프랜차이즈 제안도 들어오고, 지역 축제와 방송에도 초청되면서 주스
          브랜드가 탄생한다.<br />
          이제 그는 단순한 점장이 아닌, 대한민국을 대표하는 1등 주스 브랜드의
          CEO가 된다.
        </p>
        <button class="btn" onclick="proceedToGame()">다음</button>
      </div>

         <!------------ 게임 화면 ------------>
        <div class="screen" id="game-screen">
            <button class="back-btn" onclick="showStageScreen()">← 뒤로</button>
            <div class="game-layout">
                <!------------ 왼쪽 영역 - 명함 리스트 ------------>
                <div class="left-panel">
                    <div class="card-container">
                        <div class="card">
                            <div class="card-image"></div>
                            <div class="card-text">명함 1</div>
                        </div>
                        <div class="card">
                            <div class="card-image"></div>
                            <div class="card-text">명함 2</div>
                        </div>
                        <div class="card">
                            <div class="card-image"></div>
                            <div class="card-text">명함 3</div>
                        </div>
                        <div class="card">
                            <div class="card-image"></div>
                            <div class="card-text">명함 4</div>
                        </div>
                        <div class="card">
                            <div class="card-image"></div>
                            <div class="card-text">명함 5</div>
                        </div>
                        <div class="card">
                            <div class="card-image"></div>
                            <div class="card-text">명함 6</div>
                        </div>
                        <div class="card">
                            <div class="card-image"></div>
                            <div class="card-text">명함 7</div>
                        </div>
                    </div>
                </div>
                
                 <!------------ 가운데 영역 ------------>
                 <div class="center-panel">
                    <canvas id="game-canvas"></canvas>
                </div>
                
                <!------------ 오른쪽 영역: 위/아래 나눔 ------------>
                <div class="right-panel">
                    <div id="stage-panal">
                      <div id="current-stage"></div>
                      <div id="current-difficulty"></div>
                    </div>
                    
                    <div class="right-top-panel">
                        <div class="panel-content recipe-list">

                            <div class="recipe">
                                <div class="recipe-header">
                                    <img class="recipe-image" src="designs/recipe1.png" alt="체리 딸기 주스">
                                    <div>
                                        <div class="recipe-name">체리 딸기 주스</div>
                                        <ul class="ingredient-list">
                                            <li>체리 X 1</li>
                                            <li>딸기 X 1</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                    
                            <div class="recipe">
                                <div class="recipe-header">
                                    <img class="recipe-image" src="designs/recipe2.png" alt="포도 한라봉 주스">
                                    <div>
                                        <div class="recipe-name">포도 한라봉 주스</div>
                                        <ul class="ingredient-list">
                                            <li>포도 X 1</li>
                                            <li>한라봉 X 1</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                    
                            <div class="recipe">
                                <div class="recipe-header">
                                    <img class="recipe-image" src="designs/recipe3.png" alt="사과 복숭아 주스">
                                    <div>
                                        <div class="recipe-name">사과 복숭아 주스</div>
                                        <ul class="ingredient-list">
                                            <li>사과 X 1</li>
                                            <li>복숭아 X 1</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                    
                            <div class="recipe">
                                <div class="recipe-header">
                                    <img class="recipe-image" src="designs/recipe4.png" alt="파인애플 수박 주스">
                                    <div>
                                        <div class="recipe-name">파인애플 수박 주스</div>
                                        <ul class="ingredient-list">
                                            <li>파인애플 X 1</li>
                                            <li>수박 X 1</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                    
                            <div class="recipe">
                                <div class="recipe-header">
                                    <img class="recipe-image" src="designs/recipe5.png" alt="궁극의 과일 주스">
                                    <div>
                                        <div class="recipe-name">궁극의 과일 주스</div>
                                        <ul class="ingredient-list">
                                            <li>체리 X 1</li>
                                            <li>딸기 X 1</li>
                                            <li>포도 X 1</li>
                                            <li>한라봉 X 1</li>
                                            <li>사과 X 1</li>
                                            <li>복숭아 X 1</li>
                                            <li>파인애플 X 1</li>
                                            <li>수박 X 1</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                    
                        </div>
                    </div>

                    
                    <div class="right-bottom-panel">
                        <div class="panel-content">바구니</div>
                        <div class="basket">
                          <div class="fruit">
                            <div class="fruit-content">체리</div>
                            <div id="f1">1개</div>
                          </div>
                          <div class="fruit">
                            <div class="fruit-content">딸기</div>
                            <div id="f2">1개</div>
                          </div>
                          <div class="fruit">
                            <div class="fruit-content">포도</div>
                            <div id="f3">1개</div>
                          </div>
                          <div class="fruit">
                            <div class="fruit-content">힌리봉</div>
                            <div id="f4">1개</div>
                          </div>
                          <div class="fruit">
                            <div class="fruit-content">사과</div>
                            <div id="f5">1개</div>
                          </div>
                          <div class="fruit">
                            <div class="fruit-content">복숭아</div>
                            <div id="f6">1개</div>
                          </div>
                          <div class="fruit">
                            <div class="fruit-content">파인애플</div>
                            <div id="f7">1개</div>
                          </div>
                          <div class="fruit">
                            <div class="fruit-content">수박</div>
                            <div id="f8">1개</div>
                          </div>
                        </div>
                    </div>



                </div>
            </div>
        </div>

        <!------------ 환경설정 화면 ------------>
        <div class="screen" id="settings-screen">
            <button class="back-btn" onclick="showMainScreen()">← 뒤로</button>
            <h2 class="subtitle">환경설정</h2>
            <div class="settings-content">
                볼륨 조절
            </div>
        </div>

        <!------------ 게임 배경음악 ------------>
        <audio id="main-bgm" src="SE/main_bgm.mp3" loop></audio>

        <!-- 효과음용 오디오 -->
        <audio id="button-sound" src="SE/click.wav"></audio> 
</body>
</html>